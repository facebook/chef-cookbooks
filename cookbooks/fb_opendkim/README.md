fb_opendkim Cookbook
====================

Requirements
------------

Attributes
----------
* node['fb_opendkim']['config']
* node['fb_opendkim']['manage_packages']
* node['fb_opendkim']['sysconfig']

Usage
-----
### Packages

This cookbook will install the necessary packages. If you prefer to install
them yourself, set `node['fb_opendkim']['manage_packages']` to `false`.

### Configuration

The configuration file is generated by the single-level hash in
`node['fb_opendkim']['config']`. A default configuration is provided in this
cookbook, but you'll certainly need to add more.

### Keys

This cookbook does not manage the keys for you. You should drop them off in an
appropriate place for your distribution. For example, in Debian, this is
`/etc/dkimkeys/<domain>/<service>.{private,txt}`.

Once you've done that you can set either
`node['fb_opendkim']['config']['KeyFile']`,
`node['fb_opendkim']['config']['Selector']`, and
`node['fb_opendkim']['config']['Domain']` for simple setups, or alternatively,
setup signingtables.

### Service Environment Variables

You can customize some options that the Unit file will read in the
`node['fb_opendkim']['sysconfig']` hash. Note that if you specify `socket`, it
will override the socket in the config file, and for this reason we recommend
not setting socket here.
